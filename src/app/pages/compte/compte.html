<div class="account-hero">
  <div class="account-avatar">
    <img src="assets/images/user.png" alt="Avatar" />
  </div>
  <div class="account-title">Mon compte</div>
</div>

<div class="account-main">
  <div class="account-info-block">
    <div class="account-info">
      <label>Numéro étudiant</label>
      <div class="info-value">{{ user?.numero_etudiant || '-' }}</div>

      <label>Email</label>
      <div class="info-value">{{ user?.email || '-' }}</div>

      <label>Prénom</label>
      <div class="info-value">{{ user?.prenom || '-' }}</div>

      <label>Adhérent</label>
      <div class="info-value">{{ user?.adherent ? 'Oui' : 'Non' }}</div>
    </div>
    <div class="account-btns-row">
      <button class="btn-compte btn-small" (click)="onEdit()">Modifier mon profil</button>
      <button class="btn-compte btn-small" (click)="onLogout()">Déconnexion</button>
    </div>
  </div>
  <div class="account-historiques">
    <div class="account-section account-orders-block">
      <h2>Historique de mes commandes</h2>
      <table *ngIf="reservations?.length; else noOrders" class="account-orders">
        <thead>
          <tr>
            <th>Date</th>
            <th>Produits</th>
            <th>Statut</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let res of reservations">
            <td>{{ res.date | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>{{ res.produits || 'Aucun produit' }}</td>
            <td>{{ res.statut }}</td>
          </tr>
        </tbody>
      </table>
      <ng-template #noOrders>
        <p>Aucune commande enregistrée.</p>
      </ng-template>
    </div>
    <div class="account-section account-dons-block">
      <h2>Mes dons</h2>
      <table *ngIf="dons?.length; else noDons" class="account-dons">
        <thead>
          <tr>
            <th>Date</th>
            <th>Produit</th>
            <th>Quantité</th>
            <th>Catégorie</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let don of dons">
            <td>{{ don.date_don | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>{{ don.produit }}</td>
            <td>{{ don.quantite }}</td>
            <td>{{ don.categorie_id }}</td>
          </tr>
        </tbody>
      </table>
      <ng-template #noDons>
        <p>Aucun don enregistré.</p>
      </ng-template>
    </div>
  </div>
</div>
